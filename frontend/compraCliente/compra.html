<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LevelOne - Compra</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="compra.css">
</head>

<body>
    <header class="header">
        <div class="menu-icon" id="menuToggle">☰</div>

        <a href="../../index.html" class="logo">LevelOne</a>
        
        </header>

    <main class="checkout-container">
        <h2>Confirmar compra</h2>

        <div id="cartItems" class="cart-items"></div>

        <div class="total-section">
            <p><strong>Subtotal: </strong> $<span id="subtotal">0</span></p>
            <p><strong>Descuento: </strong> $<span id="discount">0</span></p>
            <p><strong>Total: </strong> $<span id="total">0</span></p>
            <button id="payBtn" class="buy-btn">Realizar compra</button>
        </div>
    </main>

    <div id="directionModal" class="modal hidden">
        <div class="modal-content">
            <button id="cancelDatos" class="cancel-btn top-left-btn">Atrás</button>

            <h3>Información de entrega</h3>

            <label for="direction" style="display:block; margin-top:10px; text-align:left;">Dirección de entrega</label>
            <input id="direction" type="text" name="deliveryAddress" placeholder="Escribe tu dirección completa" required>

            <label for="username" style="display:block; margin-top:10px; text-align:left;">Correo electrónico</label>
            <input type="email" id="username" name="username" placeholder="ejemplo@correo.com" required>

            <label for="number" style="display:block; margin-top:10px; text-align:left;">Número de contacto</label>
            <input type="tel" id="number" maxlength="10" placeholder="10 dígitos" pattern="[0-9]{10}" required>

            <div class="modal-footer">
                <button id="confirmDatos" class="confirm-btn">Confirmar datos</button>
            </div>
        </div>
    </div>

    <div id="confirDatosModal" class="modal hidden">
        <div class="modal-content">
            <button id="noNotes" class="cancel-btn top-left-btn">Atrás</button>

            <h3>¿Los datos son correctos?</h3>
            <div style="text-align: left; margin-top: 15px;">
                <p><strong>Dirección:</strong> <span id="showDireccion"></span></p>
                <p><strong>Correo:</strong> <span id="showCorreo"></span></p>
                <p><strong>Teléfono:</strong> <span id="showTelefono"></span></p>
            </div>

            <div class="modal-footer">
                <button id="yesNotes" class="confirm-btn">Sí</button>
            </div>
        </div>
    </div>

    <div id="paymentModal" class="modal hidden">
        <div class="modal-content">
            <button id="backBtnPayment" class="cancel-btn top-left-btn">Atrás</button>

            <h3>Método de pago</h3>

            <div style="margin: 15px 0;">
                <label><input type="radio" name="payMethod" value="Debito"> Débito</label>
                <label style="margin-left: 15px;"><input type="radio" name="payMethod" value="Credito"> Crédito</label>
            </div>

            <input type="text" id="cardNumber" maxlength="16" placeholder="Número de tarjeta (16 dígitos)">
            <input type="text" id="cvv" maxlength="3" placeholder="CVV (3 dígitos)">

            <div class="modal-footer">
                <button id="cancelPayment" class="cancel-btn">Cancelar compra</button>
                <button id="confirmPayment" class="confirm-btn">Confirmar pago</button>
            </div>
        </div>
    </div>

    <div id="cancelModal" class="modal hidden">
        <div class="modal-content">
            <h3>¿Seguro que deseas cancelar la compra?</h3>
            <div class="modal-footer">
                <button id="noCancel" class="cancel-btn">No</button>
                <button id="yesCancel" class="confirm-btn">Sí</button>
            </div>
        </div>
    </div>

    <div id="confirmCardModal" class="modal hidden">
        <div class="modal-content">
            <button id="noCard" class="cancel-btn top-left-btn">Atrás</button>

            <h3>¿Los datos son correctos?</h3>
            <p style="margin-top:10px;">Número: <span id="showCard"></span></p>
            <p>CVV: <span id="showCVV"></span></p>

            <div class="modal-footer">
                <button id="yesCard" class="confirm-btn">Sí</button>
            </div>
        </div>
    </div>

    <div id="codeModal" class="modal hidden">
        <div class="modal-content">
            <h3 style="color: #198754;">¡Compra realizada!</h3>
            <p>Tu código de pedido es:</p>
            <h2 id="codigoGenerado" style="color: #4a69ff; margin: 10px 0;"></h2>
            <p>Este código se envió al repartidor</p>
            <div class="modal-footer">
                <button id="finalRedirectBtn" class="buy-btn">Rastrear mi pedido</button>
            </div>
        </div>
    </div>

    <script src="compra.js"></script>
</body>
</html>